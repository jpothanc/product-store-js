npm install --save-dev @babel/core babel-jest

These packages provide:
jest: The testing framework
supertest: For testing HTTP endpoints
@babel/preset-env and @babel/core: For ES Modules support
babel-jest: Babel integration with Jest
After installing, you can run your integration tests with npm test as mentioned before.

to fox this:
Jest did not exit one second after the test run has completed.
'This usually means that there are asynchronous operations that weren't stopped in your tests. Consider running Jest with `--detectOpenHandles` to troubleshoot this issue.

You need to seperate the server.js and app.js in to sepearte file

Swagger
npm install swagger-autogen swagger-ui-express

to make it less verbos, 
run npm src/swagger.js which generates swagger-output.json

package.json generate this doc before restart
"scripts": {
    "start": "node src/swagger.js && node src/server.js",
    "dev": "node src/swagger.js && nodemon src/server.js",
   
  },

npm start 
npm run dev for dev and auto detecting API changes


Auth
curl -X GET "http://localhost:3002/api/v1/products/product?code=0002.HK" -u admin:password123
curl -X GET "http://localhost:3002/api/v1/products/product?code=0002.HK" -H "Authorization: Basic YWRtaW46cGFzc3dvcmQxMjM="



